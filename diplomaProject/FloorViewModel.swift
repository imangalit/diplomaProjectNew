//
//  FloorViewModel.swift
//  diplomaProject
//
//  Created by Имангали on 5/22/23.
//

import Foundation

struct Dot {
    var name: String
    var x: Double
    var y: Double
    var connected: [String]
}
struct Edge {
    var v: Dot
    var to: Dot
}

class FloorViewModel {
    private var rooms: [[Dot]] = [[],[],[],[],[],[]]
    private var connectors: [[Dot]] = [[],[],[],[],[],[]]
    private var allEdges: [Edge] = []
    func getAllRooms() -> [Dot] {
        var allRooms: [Dot] = []
        for floor in rooms {
            for room in floor {
                allRooms.append(room)
            }
        }
        return allRooms
    }
    
    
    func getFloorRooms(_ floor: Int) -> [Dot] {
        if floor < rooms.count {
            let filtered = rooms[floor].filter { room in
                return !room.name.contains("st") && !room.name.contains("el")
            }
            return filtered
        }
        return []
    }
    func getAllConnectors() -> [[Dot]] {
        return connectors
    }
    func getFloorConnectors(_ floor: Int) -> [Dot] {
        return connectors[floor]
    }
    func initRooms(_ frameWidth: Double, _ imageViewX: Double, _ imageViewY: Double) {
        for floorIndex in 0..<rooms.count {
            for roomIndex in 0..<rooms[floorIndex].count {
                var room = rooms[floorIndex][roomIndex]
                room.x *= frameWidth / 2100
                room.y *= frameWidth / 2100
                room.x += imageViewX
                room.y += imageViewY
                rooms[floorIndex][roomIndex] = room
            }
        }
        for floorIndex in 0..<connectors.count {
            for roomIndex in 0..<connectors[floorIndex].count {
                var room = connectors[floorIndex][roomIndex]
                room.x *= frameWidth / 2100
                room.y *= frameWidth / 2100
                room.x += imageViewX
                room.y += imageViewY
                connectors[floorIndex][roomIndex] = room
            }
        }
        for floorIndex in 0..<connectors.count {
            for roomIndex in 0..<connectors[floorIndex].count {
                for connectedIndex in 0..<connectors[floorIndex][roomIndex].connected.count {
                    let roomV = connectors[floorIndex][roomIndex]
                    let roomToName = connectors[floorIndex][roomIndex].connected[connectedIndex]
                    if let roomTo = connectors[floorIndex].first(where: {$0.name == roomToName}) {
                        allEdges.append(Edge(v: roomV, to: roomTo))
                        allEdges.append(Edge(v: roomTo, to: roomV))
                    }
                    else if let roomTo = rooms[floorIndex].first(where: {$0.name == roomToName}) {
                        allEdges.append(Edge(v: roomV, to: roomTo))
                        allEdges.append(Edge(v: roomTo, to: roomV))
                    }
                }
            }
        }
        for floorIndex in 0..<rooms.count {
            for roomIndex in 0..<rooms[floorIndex].count {
                for connectedIndex in 0..<rooms[floorIndex][roomIndex].connected.count {
                    let roomV = rooms[floorIndex][roomIndex]
                    let roomToName = rooms[floorIndex][roomIndex].connected[connectedIndex]
                    for k in 0..<rooms.count {
                        if let roomTo = rooms[k].first(where: {$0.name == roomToName}) {
                            allEdges.append(Edge(v: roomV, to: roomTo))
                            allEdges.append(Edge(v: roomTo, to: roomV))
                        }
                    }
                }
            }
        }
    }
    init() {
        let floor5Rooms: [Dot] = [Dot(name: "502r", x: 358, y: 1087, connected: []), Dot(name: "503r", x: 470, y: 1015, connected: []), Dot(name: "504r", x: 470, y: 1079, connected: []), Dot(name: "505r", x: 588, y: 1014, connected: []), Dot(name: "506r", x: 588, y: 1079, connected: []), Dot(name: "507r", x: 659, y: 1015, connected: []), Dot(name: "508r", x: 766, y: 1079, connected: []), Dot(name: "509r", x: 799, y: 1015, connected: []), Dot(name: "510r", x: 910, y: 1079, connected: []), Dot(name: "511r", x: 1054, y: 1079, connected: []), Dot(name: "512r", x: 1199, y: 1079, connected: []), Dot(name: "513r", x: 1054, y: 1008, connected: []), Dot(name: "514r", x: 1332, y: 1015, connected: []), Dot(name: "515r", x: 1431, y: 1015, connected: []), Dot(name: "516r", x: 1506, y: 1015, connected: []), Dot(name: "517r", x: 1332, y: 1079, connected: []), Dot(name: "518r", x: 1466, y: 1079, connected: []), Dot(name: "519r", x: 1617, y: 1015, connected: []), Dot(name: "521r", x: 1617, y: 1079, connected: []), Dot(name: "522r", x: 1868, y: 1008, connected: []), Dot(name: "523r", x: 1866, y: 1083, connected: []), Dot(name: "st5Kaz1", x: 358, y: 1000, connected: []), Dot(name: "st5Kaz2", x: 1735, y: 1004, connected: []), Dot(name: "el5Kaz1", x: 893, y: 916, connected: []), Dot(name: "el5Kaz2", x: 1201, y: 915, connected: []), Dot(name: "ww5", x: 264, y: 986, connected: []), Dot(name: "wm5", x: 264, y: 1047, connected: [])]
        
        let floor4Rooms: [Dot] = [Dot(name: "402r", x: 1784, y: 459, connected: []), Dot(name: "403r", x: 1784, y: 516, connected: []), Dot(name: "404r", x: 1724, y: 690, connected: []), Dot(name: "405ar", x: 1636, y: 913, connected: []), Dot(name: "405br", x: 1746, y: 913, connected: []), Dot(name: "406r", x: 1793, y: 937, connected: []), Dot(name: "410ar", x: 1779, y: 1007, connected: []), Dot(name: "410r", x: 1783, y: 1210, connected: []), Dot(name: "411r", x: 1783, y: 1278, connected: []), Dot(name: "412r", x: 1783, y: 1345, connected: []), Dot(name: "414r", x: 1735, y: 1604, connected: []), Dot(name: "415r", x: 1783, y: 1412, connected: []), Dot(name: "416r", x: 1668, y: 1748, connected: []), Dot(name: "417r", x: 1738, y: 1748, connected: []), Dot(name: "419r", x: 1563, y: 913, connected: []), Dot(name: "420r", x: 1490, y: 913, connected: []), Dot(name: "421r", x: 1403, y: 913, connected: []), Dot(name: "422r", x: 1320, y: 913, connected: []), Dot(name: "424r", x: 1020, y: 960, connected: []), Dot(name: "425r", x: 1062, y: 868, connected: []), Dot(name: "426r", x: 1062, y: 787, connected: []), Dot(name: "427r", x: 1062, y: 715, connected: []), Dot(name: "428r", x: 1044, y: 674, connected: []), Dot(name: "435r", x: 972, y: 715, connected: []), Dot(name: "436r", x: 712, y: 914, connected: []), Dot(name: "438r", x: 522, y: 914, connected: []), Dot(name: "441r", x: 298, y: 764, connected: []), Dot(name: "444r", x: 277, y: 418, connected: []), Dot(name: "446r", x: 254, y: 468, connected: []), Dot(name: "447r", x: 254, y: 556, connected: []), Dot(name: "450r", x: 254, y: 676, connected: []), Dot(name: "451r", x: 254, y: 934, connected: []), Dot(name: "454r", x: 298, y: 1143, connected: []), Dot(name: "455r", x: 254, y: 1011, connected: []), Dot(name: "457r", x: 254, y: 1214, connected: []), Dot(name: "458r", x: 254, y: 1347, connected: []), Dot(name: "459r", x: 254, y: 1412, connected: []), Dot(name: "461r", x: 304, y: 1609, connected: []), Dot(name: "462r", x: 344, y: 1647, connected: []), Dot(name: "440r", x: 309, y: 553, connected: []), Dot(name: "465r", x: 832, y: 1850, connected: []), Dot(name: "466r", x: 781, y: 1828, connected: []), Dot(name: "468r", x: 788, y: 1763, connected: []), Dot(name: "470r", x: 1010, y: 1805, connected: []), Dot(name: "471r", x: 1247, y: 1828, connected: []), Dot(name: "472r", x: 1210, y: 1850, connected: []), Dot(name: "474r", x: 1247, y: 1763, connected: []), Dot(name: "476r", x: 1297, y: 1763, connected: []), Dot(name: "ww4Abl", x: 301, y: 1008, connected: []), Dot(name: "wm4Abl", x: 301, y: 1078, connected: []), Dot(name: "ww4Tol", x: 971, y: 1609, connected: []), Dot(name: "wm4Tol", x: 1063, y: 1609, connected: []), Dot(name: "wm4Pan", x: 1727, y: 1081, connected: []), Dot(name: "ww4Pan", x: 1727, y: 1145, connected: []), Dot(name: "st4Abl", x: 344, y: 1317, connected: ["st0Abl", "st1Abl", "st2Abl", "st3Abl"]), Dot(name: "st4Pan", x: 1690, y: 1312, connected: ["st0Pan", "st1Pan", "st2Pan", "st3Pan"]), Dot(name: "st4Tol", x: 973, y: 1673, connected: ["st0Tol", "st1Tol", "st2Tol", "st3Tol"])]
        
        let floor3Rooms: [Dot] = [Dot(name: "300r", x: 1787, y: 167, connected: []), Dot(name: "301r", x: 1836, y: 169, connected: []), Dot(name: "302r", x: 1836, y: 240, connected: []), Dot(name: "303r", x: 1787, y: 240, connected: []), Dot(name: "305r", x: 1836, y: 362, connected: []), Dot(name: "306r", x: 1787, y: 294, connected: []), Dot(name: "309r", x: 1836, y: 443, connected: []), Dot(name: "310r", x: 1836, y: 515, connected: []), Dot(name: "311r", x: 1775, y: 515, connected: []), Dot(name: "312r", x: 1836, y: 586, connected: []), Dot(name: "313r", x: 1784, y: 585, connected: []), Dot(name: "314r", x: 1836, y: 657, connected: []), Dot(name: "315r", x: 1784, y: 657, connected: []), Dot(name: "316r", x: 1836, y: 729, connected: []), Dot(name: "317r", x: 1836, y: 785, connected: []), Dot(name: "318r", x: 1784, y: 727, connected: []), Dot(name: "319r", x: 1784, y: 785, connected: []), Dot(name: "320r", x: 1854, y: 871, connected: []), Dot(name: "321r", x: 1836, y: 931, connected: []), Dot(name: "323r", x: 1752, y: 902, connected: []), Dot(name: "324r", x: 1645, y: 902, connected: []), Dot(name: "325r", x: 1475, y: 902, connected: []), Dot(name: "327r", x: 1389, y: 869, connected: []), Dot(name: "328r", x: 1389, y: 930, connected: []), Dot(name: "332ar", x: 1836, y: 1004, connected: []), Dot(name: "330r", x: 1783, y: 1145, connected: []), Dot(name: "332br", x: 1836, y: 1214, connected: []), Dot(name: "333r", x: 1836, y: 1291, connected: []), Dot(name: "334r", x: 1836, y: 1351, connected: []), Dot(name: "335r", x: 1836, y: 1416, connected: []), Dot(name: "336r", x: 1839, y: 1587, connected: []), Dot(name: "337r", x: 1784, y: 1521, connected: []), Dot(name: "339r", x: 1783, y: 1659, connected: []), Dot(name: "341r", x: 1836, y: 1764, connected: []), Dot(name: "342r", x: 1806, y: 1799, connected: []), Dot(name: "345r", x: 1449, y: 1823, connected: []), Dot(name: "346r", x: 1335, y: 1823, connected: []), Dot(name: "348r", x: 1237, y: 1823, connected: []), Dot(name: "349r", x: 1281, y: 1877, connected: []), Dot(name: "350r", x: 1143, y: 1877, connected: []), Dot(name: "351r", x: 1030, y: 1877, connected: []), Dot(name: "352r", x: 931, y: 1877, connected: []), Dot(name: "353r", x: 855, y: 1823, connected: []), Dot(name: "354r", x: 848, y: 1877, connected: []), Dot(name: "355r", x: 781, y: 1822, connected: []), Dot(name: "356r", x: 736, y: 1877, connected: []), Dot(name: "357r", x: 736, y: 1823, connected: []), Dot(name: "358r", x: 654, y: 1823, connected: []), Dot(name: "359r", x: 536, y: 1886, connected: []), Dot(name: "360r", x: 486, y: 1763, connected: []), Dot(name: "361r", x: 372, y: 1791, connected: []), Dot(name: "362r", x: 223, y: 1763, connected: []), Dot(name: "363r", x: 283, y: 1795, connected: []), Dot(name: "364r", x: 256, y: 1692, connected: []), Dot(name: "365r", x: 308, y: 1599, connected: []), Dot(name: "367r", x: 255, y: 1455, connected: []), Dot(name: "369r", x: 255, y: 1300, connected: []), Dot(name: "370r", x: 308, y: 1139, connected: []), Dot(name: "372r", x: 258, y: 1011, connected: []), Dot(name: "375r", x: 780, y: 929, connected: []), Dot(name: "376r", x: 653, y: 902, connected: []), Dot(name: "377r", x: 457, y: 902, connected: []), Dot(name: "378r", x: 308, y: 886, connected: []), Dot(name: "379r", x: 255, y: 890, connected: []), Dot(name: "380r", x: 258, y: 744, connected: []), Dot(name: "381ar", x: 306, y: 743, connected: []), Dot(name: "382r", x: 258, y: 648, connected: []), Dot(name: "381br", x: 306, y: 648, connected: []), Dot(name: "383r", x: 306, y: 580, connected: []), Dot(name: "382r", x: 306, y: 530, connected: []), Dot(name: "385r", x: 255, y: 536, connected: []), Dot(name: "386r", x: 306, y: 372, connected: []), Dot(name: "387r", x: 308, y: 304, connected: []), Dot(name: "388r", x: 255, y: 306, connected: []), Dot(name: "389r", x: 308, y: 193, connected: []), Dot(name: "348ar", x: 1164, y: 1579, connected: []), Dot(name: "348br", x: 927, y: 1579, connected: []), Dot(name: "wm3Abl", x: 305, y: 999, connected: []), Dot(name: "ww3Abl", x: 305, y: 1077, connected: []), Dot(name: "ww3Pan", x: 1783, y: 991, connected: []), Dot(name: "wm3Pan", x: 1783, y: 1082, connected: []), Dot(name: "st3Abl", x: 305, y: 1300, connected: ["st0Abl", "st1Abl", "st2Abl", "st4Abl"]), Dot(name: "st3Pan", x: 1783, y: 1351, connected: ["st0Pan", "st1Pan", "st2Pan", "st4Pan"]), Dot(name: "st3Tol", x: 1044, y: 1728, connected: ["st0Tol", "st1Tol", "st2Tol", "st4Tol"])]
        
        let floor2Rooms: [Dot] = [Dot(name: "216ar", x: 1778, y: 237, connected: []), Dot(name: "216br", x: 1830, y: 237, connected: []), Dot(name: "215r", x: 1778, y: 360, connected: []), Dot(name: "218r", x: 1830, y: 378, connected: []), Dot(name: "220r", x: 1830, y: 452, connected: []), Dot(name: "217r", x: 1778, y: 597, connected: []), Dot(name: "219r", x: 1778, y: 721, connected: []), Dot(name: "222r", x: 1830, y: 540, connected: []), Dot(name: "224r", x: 1830, y: 625, connected: []), Dot(name: "226r", x: 1830, y: 740, connected: []), Dot(name: "228r", x: 1830, y: 927, connected: []), Dot(name: "222/5/6r", x: 1680, y: 907, connected: []), Dot(name: "222/4r", x: 1567, y: 869, connected: []), Dot(name: "221r", x: 1756, y: 957, connected: []), Dot(name: "230r", x: 1830, y: 1011, connected: []), Dot(name: "231r", x: 1782, y: 1145, connected: []), Dot(name: "232r", x: 1830, y: 1224, connected: []), Dot(name: "233r", x: 1785, y: 1486, connected: []), Dot(name: "235r", x: 1785, y: 1554, connected: []), Dot(name: "237r", x: 1785, y: 1622, connected: []), Dot(name: "238r", x: 1785, y: 1693, connected: []), Dot(name: "234r", x: 1833, y: 1486, connected: []), Dot(name: "236r", x: 1833, y: 1554, connected: []), Dot(name: "239r", x: 1833, y: 1622, connected: []), Dot(name: "240r", x: 1833, y: 1693, connected: []), Dot(name: "243r", x: 1757, y: 1792, connected: []), Dot(name: "245r", x: 1620, y: 1876, connected: []), Dot(name: "242r", x: 1804, y: 1792, connected: []), Dot(name: "241r", x: 1850, y: 1815, connected: []), Dot(name: "249r", x: 1233, y: 1872, connected: []), Dot(name: "247r", x: 1259, y: 1819, connected: []), Dot(name: "250ar", x: 998, y: 1623, connected: []), Dot(name: "250br", x: 1092, y: 1623, connected: []), Dot(name: "251r", x: 848, y: 1792, connected: []), Dot(name: "251ar", x: 872, y: 1876, connected: []), Dot(name: "251br", x: 832, y: 1847, connected: []), Dot(name: "252r", x: 465, y: 1879, connected: []), Dot(name: "254ar", x: 410, y: 1791, connected: []), Dot(name: "254br", x: 280, y: 1791, connected: []), Dot(name: "255r", x: 201, y: 1642, connected: []), Dot(name: "256r", x: 254, y: 1610, connected: []), Dot(name: "258r", x: 254, y: 1488, connected: []), Dot(name: "257/259r", x: 307, y: 1488, connected: []), Dot(name: "260r", x: 254, y: 1209, connected: []), Dot(name: "264r", x: 196, y: 1108, connected: []), Dot(name: "262r", x: 363, y: 1174, connected: []), Dot(name: "261r", x: 310, y: 1144, connected: []), Dot(name: "263r", x: 254, y: 1075, connected: []), Dot(name: "265r", x: 254, y: 1006, connected: []), Dot(name: "268r", x: 381, y: 932, connected: []), Dot(name: "269r", x: 338, y: 904, connected: []), Dot(name: "270r", x: 254, y: 932, connected: []), Dot(name: "272r", x: 309, y: 783, connected: []), Dot(name: "273r", x: 309, y: 720, connected: []), Dot(name: "274r", x: 309, y: 657, connected: []), Dot(name: "275r", x: 357, y: 625, connected: []), Dot(name: "278r", x: 309, y: 531, connected: []), Dot(name: "271r", x: 254, y: 696, connected: []), Dot(name: "277r", x: 223, y: 520, connected: []), Dot(name: "279r", x: 254, y: 451, connected: []), Dot(name: "281r", x: 306, y: 376, connected: []), Dot(name: "280r", x: 254, y: 391, connected: []), Dot(name: "284r", x: 254, y: 242, connected: []), Dot(name: "283r", x: 312, y: 163, connected: []), Dot(name: "732r", x: 1176, y: 1568, connected: []), Dot(name: "726r", x: 858, y: 934, connected: []), Dot(name: "276r", x: 254, y: 696, connected: []), Dot(name: "cw2Kaz1", x: 901, y: 877, connected: []), Dot(name: "cw2Kaz2", x: 1172, y: 877, connected: []), Dot(name: "wm2Abl", x: 324, y: 951, connected: []), Dot(name: "ww2Abl", x: 310, y: 1088, connected: []), Dot(name: "wm2Pan", x: 1778, y: 325, connected: []), Dot(name: "ww2Pan", x: 1782, y: 1092, connected: []), Dot(name: "st2Abl", x: 307, y: 1361, connected: ["st0Abl", "st1Abl", "st3Abl", "st4Abl"]), Dot(name: "st2Pan", x: 1779, y: 1349, connected: ["st0Pan", "st1Pan", "st3Pan", "st4Pan"]), Dot(name: "st2Tol", x: 1050, y: 1706, connected: ["st0Tol", "st1Tol", "st3Tol", "st4Tol"]), Dot(name: "st2Kaz", x: 1042, y: 760, connected: ["st0Kaz", "st1Kaz", "st3Kaz", "st4Kaz"])]
        
        let floor1Rooms: [Dot] = [Dot(name: "133r", x: 1828, y: 1317, connected: []), Dot(name: "134r", x: 1780, y: 1317, connected: []), Dot(name: "135r", x: 1783, y: 1385, connected: []), Dot(name: "138r", x: 1783, y: 1491, connected: []), Dot(name: "136r", x: 1834, y: 1491, connected: []), Dot(name: "140r", x: 1807, y: 1625, connected: []), Dot(name: "142r", x: 1686, y: 1619, connected: []), Dot(name: "143r", x: 1565, y: 1712, connected: []), Dot(name: "147r", x: 1179, y: 1757, connected: []), Dot(name: "148r", x: 1253, y: 1657, connected: []), Dot(name: "152r", x: 895, y: 1754, connected: []), Dot(name: "149r", x: 845, y: 1657, connected: []), Dot(name: "151r", x: 751, y: 1657, connected: []), Dot(name: "160r", x: 301, y: 975, connected: []), Dot(name: "161r", x: 247, y: 938, connected: []), Dot(name: "lb1Abl1", x: 279, y: 784, connected: []), Dot(name: "lb1Abl2", x: 286, y: 1282, connected: []), Dot(name: "cw1Kaz1", x: 841, y: 756, connected: []), Dot(name: "cw1Kaz2", x: 1241, y: 753, connected: []), Dot(name: "bf1Tol", x: 961, y: 1528, connected: []), Dot(name: "bf1Abl", x: 340, y: 1216, connected: []), Dot(name: "wm1Tol", x: 1347, y: 1654, connected: []), Dot(name: "ww1Tol", x: 1294, y: 1655, connected: []), Dot(name: "wm1Kaz", x: 765, y: 693, connected: []), Dot(name: "ww1Kaz", x: 1316, y: 693, connected: []), Dot(name: "wm1Abl", x: 301, y: 835, connected: []), Dot(name: "ww1Abl", x: 304, y: 905, connected: []), Dot(name: "st1Abl", x: 334, y: 1163, connected: ["st0Abl", "st2Abl", "st3Abl", "st4Abl"]), Dot(name: "st1Pan", x: 1747, y: 1202, connected: ["st0Pan", "st2Pan", "st3Pan", "st4Pan"]), Dot(name: "st1Tol", x: 1047, y: 1528, connected: ["st0Tol", "st2Tol", "st3Tol", "st4Tol"]), Dot(name: "wd1Abl", x: 202, y: 1282, connected: [])]
        
        let floor0Rooms: [Dot] = [Dot(name: "1r", x: 1812, y: 196, connected: []), Dot(name: "2r", x: 1786, y: 217, connected: []), Dot(name: "3r", x: 1838, y: 262, connected: []), Dot(name: "4r", x: 1786, y: 305, connected: []), Dot(name: "5r", x: 1838, y: 330, connected: []), Dot(name: "6r", x: 1837, y: 446, connected: []), Dot(name: "8r", x: 1786, y: 519, connected: []), Dot(name: "9r", x: 1837, y: 581, connected: []), Dot(name: "10r", x: 1786, y: 578, connected: []), Dot(name: "11r", x: 1786, y: 649, connected: []), Dot(name: "12r", x: 1837, y: 653, connected: []), Dot(name: "13r", x: 1786, y: 716, connected: []), Dot(name: "14r", x: 1786, y: 779, connected: []), Dot(name: "15r", x: 1837, y: 750, connected: []), Dot(name: "16r", x: 1837, y: 849, connected: []), Dot(name: "18rab", x: 1780, y: 859, connected: []), Dot(name: "19r", x: 1837, y: 916, connected: []), Dot(name: "22r", x: 1843, y: 1033, connected: []), Dot(name: "23r", x: 1840, y: 1137, connected: []), Dot(name: "24r", x: 1784, y: 1108, connected: []), Dot(name: "25r", x: 1842, y: 1252, connected: []), Dot(name: "26r", x: 1727, y: 1178, connected: []), Dot(name: "28r", x: 1843, y: 1347, connected: []), Dot(name: "29r", x: 1781, y: 1495, connected: []), Dot(name: "30r", x: 1842, y: 1448, connected: []), Dot(name: "31r1", x: 1842, y: 1550, connected: []), Dot(name: "31r2", x: 1842, y: 1657, connected: []), Dot(name: "33r", x: 1781, y: 1642, connected: []), Dot(name: "35r", x: 1781, y: 1700, connected: []), Dot(name: "36r", x: 1842, y: 1764, connected: []), Dot(name: "37r", x: 1890, y: 1798, connected: []), Dot(name: "38r", x: 1731, y: 1795, connected: []), Dot(name: "39r1", x: 1827, y: 1795, connected: []), Dot(name: "39r2", x: 1602, y: 1768, connected: []), Dot(name: "41r", x: 1466, y: 1825, connected: []), Dot(name: "42r", x: 1408, y: 1825, connected: []), Dot(name: "43r", x: 1570, y: 1880, connected: []), Dot(name: "44r", x: 1356, y: 1825, connected: []), Dot(name: "45r", x: 1306, y: 1825, connected: []), Dot(name: "46r1", x: 1243, y: 1825, connected: []), Dot(name: "46r2", x: 1213, y: 1878, connected: []), Dot(name: "47r", x: 1167, y: 1878, connected: []), Dot(name: "48r", x: 1121, y: 1878, connected: []), Dot(name: "49r", x: 1173, y: 1825, connected: []), Dot(name: "50r", x: 1074, y: 1877, connected: []), Dot(name: "51r", x: 1002, y: 1877, connected: []), Dot(name: "56r", x: 929, y: 1877, connected: []), Dot(name: "55r", x: 955, y: 1825, connected: []), Dot(name: "57r", x: 858, y: 1877, connected: []), Dot(name: "58r", x: 858, y: 1825, connected: []), Dot(name: "59r", x: 759, y: 1825, connected: []), Dot(name: "60r", x: 660, y: 1877, connected: []), Dot(name: "61r", x: 582, y: 1880, connected: []), Dot(name: "62r", x: 673, y: 1825, connected: []), Dot(name: "63r", x: 617, y: 1825, connected: []), Dot(name: "66r", x: 483, y: 1880, connected: []), Dot(name: "68r", x: 407, y: 1797, connected: []), Dot(name: "68ar", x: 340, y: 1797, connected: []), Dot(name: "69r", x: 278, y: 1798, connected: []), Dot(name: "69ar", x: 230, y: 1760, connected: []), Dot(name: "70r1", x: 313, y: 1701, connected: []), Dot(name: "70r2", x: 313, y: 1599, connected: []), Dot(name: "71r", x: 253, y: 1637, connected: []), Dot(name: "72r", x: 253, y: 1552, connected: []), Dot(name: "74r", x: 253, y: 1484, connected: []), Dot(name: "75r", x: 313, y: 1487, connected: []), Dot(name: "76r", x: 253, y: 1418, connected: []), Dot(name: "77r", x: 311, y: 1418, connected: []), Dot(name: "78r", x: 302, y: 1268, connected: []), Dot(name: "79r", x: 253, y: 1263, connected: []), Dot(name: "80r", x: 302, y: 1293, connected: []), Dot(name: "81r", x: 312, y: 1141, connected: []), Dot(name: "82r", x: 253, y: 1073, connected: []), Dot(name: "83r", x: 311, y: 1073, connected: []), Dot(name: "84r", x: 253, y: 998, connected: []), Dot(name: "85r", x: 312, y: 998, connected: []), Dot(name: "86r", x: 245, y: 678, connected: []), Dot(name: "90r", x: 257, y: 335, connected: []), Dot(name: "93r", x: 307, y: 308, connected: []), Dot(name: "94r", x: 257, y: 191, connected: []), Dot(name: "st0Abl", x: 302, y: 1348, connected: ["st1Abl","st2Abl","st3Abl","st4Abl"]), Dot(name: "st0Pan", x: 1789, y: 1342, connected: ["st1Pan","st2Pan","st3Pan","st4Pan"]), Dot(name: "st0Tol", x: 1091, y: 1691, connected: ["st1Tol", "st2Tol", "st3Tol", "st4Tol"]), Dot(name: "bf0Tol1", x: 1044, y: 1600, connected: []), Dot(name: "bf0Tol2", x: 1036, y: 1774, connected: []), Dot(name: "bf0Tol3", x: 1094, y: 1781, connected: [])]
        
        let floor5Connectors: [Dot] = [Dot(name: "1cf5", x: 358, y: 1047, connected: ["502r", "st5Kaz1", "ww5", "wm5"]), Dot(name: "2cf5", x: 470, y: 1047, connected: ["1cf5", "503r", "504r"]), Dot(name: "3cf5", x: 588, y: 1047, connected: ["2cf5", "505r", "506r"]), Dot(name: "4cf5", x: 659, y: 1047, connected: ["3cf5", "507r"]), Dot(name: "5cf5", x: 766, y: 1047, connected: ["4cf5", "508r"]), Dot(name: "6cf5", x: 799, y: 1047, connected: ["5cf5", "509r"]), Dot(name: "7cf5", x: 910, y: 1047, connected: ["6cf5", "510r"]), Dot(name: "8cf5", x: 932, y: 1047, connected: ["7cf5"]), Dot(name: "9cf5", x: 932, y: 916, connected: ["8cf5", "el5Kaz1"]), Dot(name: "10cf5", x: 1054, y: 1047, connected: ["8cf5", "513r", "511r"]), Dot(name: "11cf5", x: 1165, y: 1047, connected: ["10cf5"]), Dot(name: "12cf5", x: 1165, y: 915, connected: ["11cf5", "el5Kaz2"]), Dot(name: "13cf5", x: 1199, y: 1047, connected: ["11cf5", "512r"]), Dot(name: "14cf5", x: 1332, y: 1047, connected: ["13cf5", "514r", "517r"]), Dot(name: "15cf5", x: 1431, y: 1047, connected: ["14cf5", "515r"]), Dot(name: "16cf5", x: 1466, y: 1047, connected: ["15cf5", "518r"]), Dot(name: "17cf5", x: 1506, y: 1047, connected: ["16cf5", "516r"]), Dot(name: "18cf5", x: 1617, y: 1047, connected: ["17cf5", "519r", "521r"]), Dot(name: "19cf5", x: 1735, y: 1047, connected: ["18cf5", "st5Kaz2"]), Dot(name: "20cf5", x: 1804, y: 1047, connected: ["19cf5", "elevators5cf4"]), Dot(name: "21cf5", x: 1866, y: 1048, connected: ["20cf5", "522r", "523r"])]
        
        let floor4Connectors: [Dot] = [Dot(name: "1cf4", x: 1762, y: 459, connected: ["402r"]), Dot(name: "2cf4", x: 1762, y: 519, connected: ["1cf4", "403r"]), Dot(name: "3cf4", x: 1762, y: 539, connected: ["2cf4"]), Dot(name: "4cf4", x: 1731, y: 539, connected: ["3cf4"]), Dot(name: "5cf4", x: 1687, y: 539, connected: ["4cf4"]), Dot(name: "6cf4", x: 1687, y: 690, connected: ["5cf4", "404r"]), Dot(name: "7cf4", x: 1687, y: 937, connected: ["6cf4"]), Dot(name: "8cf4", x: 1746, y: 937, connected: ["7cf4", "405br", "406r"]), Dot(name: "9cf4", x: 1755, y: 1007, connected: ["8cf4", "410ar", "wm4Pan", "ww4Pan"]), Dot(name: "10cf4", x: 1755, y: 1210, connected: ["9cf4", "410r"]), Dot(name: "11cf4", x: 1755, y: 1278, connected: ["10cf4", "411r"]), Dot(name: "12cf4", x: 1755, y: 1345, connected: ["11cf4", "412r"]), Dot(name: "13cf4", x: 1755, y: 1412, connected: ["12cf4", "415r"]), Dot(name: "14cf4", x: 1689, y: 1345, connected: ["12cf4", "st4Pan"]), Dot(name: "15cf4", x: 1689, y: 1604, connected: ["14cf4", "414r", "415r"]), Dot(name: "17cf4", x: 1693, y: 1748, connected: ["15cf4", "416r", "417r"]), Dot(name: "18cf4", x: 1636, y: 934, connected: ["7cf4", "405ar"]), Dot(name: "19cf4", x: 1563, y: 934, connected: ["18cf4", "419r"]), Dot(name: "20cf4", x: 1490, y: 934, connected: ["19cf4", "420r"]), Dot(name: "21cf4", x: 1403, y: 934, connected: ["20cf4", "421r"]), Dot(name: "22cf4", x: 1320, y: 934, connected: ["21cf4", "422r"]), Dot(name: "23cf4", x: 1020, y: 934, connected: ["22cf4", "424r"]), Dot(name: "24cf4", x: 1020, y: 868, connected: ["23cf4", "425r"]), Dot(name: "25cf4", x: 1020, y: 787, connected: ["24cf4", "426r"]), Dot(name: "26cf4", x: 1020, y: 715, connected: ["25cf4", "427r", "428r", "432r"]), Dot(name: "27cf4", x: 851, y: 934, connected: ["23cf4", "435r"]), Dot(name: "28cf4", x: 712, y: 935, connected: ["27cf4", "436r"]), Dot(name: "29cf4", x: 522, y: 935, connected: ["28cf4", "438r"]), Dot(name: "30cf4", x: 277, y: 934, connected: ["29cf4", "451r"]), Dot(name: "31cf4", x: 277, y: 764, connected: ["30cf4", "441r"]), Dot(name: "32cf4", x: 277, y: 676, connected: ["31cf4", "450r"]), Dot(name: "33cf4", x: 277, y: 553, connected: ["32cf4", "440r", "447r"]), Dot(name: "34cf4", x: 277, y: 468, connected: ["33cf4", "444r", "446r"]), Dot(name: "35cf4", x: 277, y: 1011, connected: ["30cf4", "455r", "ww4Abl", "wm4Abl"]), Dot(name: "36cf4", x: 277, y: 1143, connected: ["35cf4", "454r"]), Dot(name: "37cf4", x: 277, y: 1214, connected: ["36cf4", "457r"]), Dot(name: "38cf4", x: 277, y: 1347, connected: ["37cf4", "458r"]), Dot(name: "39cf4", x: 277, y: 1412, connected: ["38cf4", "459r"]), Dot(name: "40cf4", x: 344, y: 1347, connected: ["38cf4", "st4Abl"]), Dot(name: "41cf4", x: 344, y: 1609, connected: ["40cf4", "461r", "462r"]), Dot(name: "42cf4", x: 1010, y: 1774, connected: ["43cf4", "44cf4", "47cf4", "ww4Tol", "wm4Tol"]), Dot(name: "43cf4", x: 832, y: 1777, connected: ["42cf4", "468r"]), Dot(name: "44cf4", x: 832, y: 1828, connected: ["43cf4", "465r", "466r"]), Dot(name: "45cf4", x: 1209, y: 1781, connected: ["42cf4", "474r"]), Dot(name: "46cf4", x: 1210, y: 1828, connected: ["46cf4", "471r", "472r"]), Dot(name: "47cf4", x: 1010, y: 1673, connected: ["st4Tol"])]
        
        let floor3Connectors: [Dot] = [Dot(name: "1cf3", x: 1810, y: 169, connected: ["301r", "300r"]), Dot(name: "2cf3", x: 1810, y: 240, connected: ["1cf3", "302r", "303r"]), Dot(name: "3cf3", x: 1810, y: 294, connected: ["306r", "2cf3"]), Dot(name: "4cf3", x: 1810, y: 362, connected: ["3cf3", "305r"]), Dot(name: "5cf3", x: 1810, y: 443, connected: ["309r", "4cf3"]), Dot(name: "6cf3", x: 1810, y: 515, connected: ["5cf3", "310r", "311r"]), Dot(name: "7cf3", x: 1810, y: 586, connected: ["6cf3", "312r", "313r"]), Dot(name: "8cf3", x: 1810, y: 657, connected: ["7cf3", "314r", "315r"]), Dot(name: "9cf3", x: 1810, y: 728, connected: ["8cf3", "316r", "318r"]), Dot(name: "10cf3", x: 1810, y: 786, connected: ["9cf3", "317r", "319r"]), Dot(name: "11cf3", x: 1806, y: 871, connected: ["10cf3", "320r"]), Dot(name: "12cf3", x: 1806, y: 931, connected: ["11cf3", "321r"]), Dot(name: "13cf3", x: 1752, y: 931, connected: ["12cf3", "323r"]), Dot(name: "14cf3", x: 1645, y: 931, connected: ["324r", "13cf3"]), Dot(name: "15cf3", x: 1497, y: 931, connected: ["325r", "14cf3"]), Dot(name: "16cf3", x: 1419, y: 930, connected: ["15cf3", "328r", "327r"]), Dot(name: "17cf3", x: 1806, y: 1004, connected: ["12cf3", "332ar", "ww3Pan"]), Dot(name: "18cf3", x: 1806, y: 1079, connected: ["17cf3", "332br", "wm3Pan"]), Dot(name: "19cf3", x: 1806, y: 1145, connected: ["330r", "18cf3"]), Dot(name: "20cf3", x: 1806, y: 1214, connected: ["332r", "19cf3"]), Dot(name: "21cf3", x: 1806, y: 1292, connected: ["333r", "20cf3"]), Dot(name: "22cf3", x: 1806, y: 1351, connected: ["21cf3", "334r", "st3Pan"]), Dot(name: "23cf3", x: 1806, y: 1417, connected: ["22cf3", "335r"]), Dot(name: "24cf3", x: 1806, y: 1521, connected: ["23cf3", "337r"]), Dot(name: "25cf3", x: 1806, y: 1586, connected: ["24cf3", "336r"]), Dot(name: "26cf3", x: 1806, y: 1659, connected: ["25cf3", "339r"]), Dot(name: "27cf3", x: 1806, y: 1763, connected: ["26cf3", "341r", "342r"]), Dot(name: "28cf3", x: 1628, y: 1765, connected: ["27cf3"]), Dot(name: "29cf3", x: 1628, y: 1849, connected: ["28cf3"]), Dot(name: "30cf3", x: 1528, y: 1849, connected: ["29cf3"]), Dot(name: "31cf3", x: 1449, y: 1849, connected: ["30cf3", "345r"]), Dot(name: "32cf3", x: 1335, y: 1849, connected: ["31cf3", "346r"]), Dot(name: "33cf3", x: 1270, y: 1852, connected: ["32cf3", "349r", "348r"]), Dot(name: "34cf3", x: 1143, y: 1852, connected: ["33cf3", "350r"]), Dot(name: "35cf3", x: 1030, y: 1852, connected: ["34cf3", "351r", "st3Tol"]), Dot(name: "36cf3", x: 1030, y: 1629, connected: ["35cf3", "348ar", "348br"]), Dot(name: "37cf3", x: 927, y: 1852, connected: ["35cf3", "352r"]), Dot(name: "38cf3", x: 846, y: 1852, connected: ["37cf3", "353r", "354r"]), Dot(name: "39cf3", x: 781, y: 1852, connected: ["38cf3", "355r"]), Dot(name: "40cf3", x: 736, y: 1852, connected: ["39cf3", "357r", "356r"]), Dot(name: "41cf3", x: 654, y: 1852, connected: ["40cf3", "358r"]), Dot(name: "42cf3", x: 569, y: 1852, connected: ["41cf3"]), Dot(name: "43cf3", x: 536, y: 1852, connected: ["42cf3", "359r"]), Dot(name: "44cf3", x: 465, y: 1852, connected: ["43cf3"]), Dot(name: "45cf3", x: 465, y: 1763, connected: ["44cf3", "360r"]), Dot(name: "46cf3", x: 372, y: 1763, connected: ["45cf3", "361r"]), Dot(name: "47cf3", x: 283, y: 1763, connected: ["46cf3", "363r", "362r"]), Dot(name: "48cf3", x: 283, y: 1692, connected: ["47cf3", "364r"]), Dot(name: "49cf3", x: 283, y: 1599, connected: ["48cf3", "365r"]), Dot(name: "50cf3", x: 283, y: 1455, connected: ["49cf3", "367r"]), Dot(name: "51cf3", x: 283, y: 1300, connected: ["50cf3", "369r", "st3Abl"]), Dot(name: "52cf3", x: 283, y: 1212, connected: ["51cf3"]), Dot(name: "53cf3", x: 283, y: 1141, connected: ["52cf3", "370r"]), Dot(name: "54cf3", x: 283, y: 1078, connected: ["53cf3", "ww3Abl"]), Dot(name: "55cf3", x: 283, y: 1011, connected: ["54cf3", "372r", "wm3Abl"]), Dot(name: "56cf3", x: 283, y: 929, connected: ["55cf3"]), Dot(name: "57cf3", x: 457, y: 929, connected: ["56cf3", "377r"]), Dot(name: "58cf3", x: 653, y: 929, connected: ["57cf3", "376r", "375r"]), Dot(name: "59cf3", x: 283, y: 887, connected: ["56cf3", "378r", "379r"]), Dot(name: "60cf3", x: 283, y: 744, connected: ["57cf3", "380r", "381ar"]), Dot(name: "61cf3", x: 283, y: 648, connected: ["60cf3", "382r", "381br"]), Dot(name: "62cf3", x: 283, y: 580, connected: ["61cf3", "383r"]), Dot(name: "63cf3", x: 283, y: 530, connected: ["62cf3", "382r", "385r"]), Dot(name: "64cf3", x: 283, y: 442, connected: ["63cf3"]), Dot(name: "65cf3", x: 283, y: 372, connected: ["64cf3", "386r"]), Dot(name: "66cf3", x: 283, y: 304, connected: ["65cf3", "387r", "388r"]), Dot(name: "67cf3", x: 283, y: 193, connected: ["389r"])]
        
        let floor2Connectors: [Dot] = [Dot(name: "1cf2", x: 1804, y: 237, connected: ["216ar", "216br"]), Dot(name: "2cf2", x: 1804, y: 308, connected: ["1cf2", "wm2Pan"]), Dot(name: "3cf2", x: 1804, y: 375, connected: ["2cf2", "215r", "218r"]), Dot(name: "4cf2", x: 1804, y: 452, connected: ["3cf2", "220r", "stairs2floorPanfilov"]), Dot(name: "5cf2", x: 1804, y: 540, connected: ["4cf2", "217r", "222r"]), Dot(name: "6cf2", x: 1804, y: 628, connected: ["5cf2", "224r"]), Dot(name: "7cf2", x: 1804, y: 721, connected: ["6cf2", "219r", "226r"]), Dot(name: "8cf2", x: 1804, y: 927, connected: ["7cf2", "228r"]), Dot(name: "9cf2", x: 1756, y: 927, connected: ["8cf2", "221r"]), Dot(name: "10cf2", x: 1680, y: 927, connected: ["9cf2", "222/5/6r", "222/4r"]), Dot(name: "11cf2", x: 1804, y: 1011, connected: ["8cf2", "230r"]), Dot(name: "12cf2", x: 1804, y: 1065, connected: ["11cf2", "ww2Pan"]), Dot(name: "13cf2", x: 1804, y: 1146, connected: ["12cf2", "231r"]), Dot(name: "14cf2", x: 1804, y: 1224, connected: ["13cf2", "232r", "elevators2floorPanfilov"]), Dot(name: "15cf2", x: 1804, y: 1349, connected: ["14cf2", "st2Abl"]), Dot(name: "16cf2", x: 1804, y: 1486, connected: ["15cf2", "233r", "234r"]), Dot(name: "17cf2", x: 1804, y: 1554, connected: ["16cf2", "235r", "236r"]), Dot(name: "18cf2", x: 1804, y: 1622, connected: ["17cf2", "237r", "239r"]), Dot(name: "19cf2", x: 1804, y: 1693, connected: ["18cf2", "238r", "240r"]), Dot(name: "20cf2", x: 1804, y: 1760, connected: ["19cf2", "242r", "241r"]), Dot(name: "21cf2", x: 1757, y: 1760, connected: ["20cf2", "243r"]), Dot(name: "22cf2", x: 1620, y: 1760, connected: ["21cf2"]), Dot(name: "23cf2", x: 1620, y: 1847, connected: ["22cf2"]), Dot(name: "24cf2", x: 1620, y: 1876, connected: ["23cf2", "245r"]), Dot(name: "25cf2", x: 1564, y: 1847, connected: ["23cf2"]), Dot(name: "26cf2", x: 1524, y: 1847, connected: ["25cf2"]), Dot(name: "27cf2", x: 1341, y: 1847, connected: ["249r"]), Dot(name: "28cf2", x: 1259, y: 1850, connected: ["27cf2", "247r"]), Dot(name: "29cf2", x: 1219, y: 1850, connected: ["28cf2"]), Dot(name: "30cf2", x: 1219, y: 1792, connected: ["29cf2"]), Dot(name: "31cf2", x: 1170, y: 1792, connected: ["30cf2"]), Dot(name: "32cf2", x: 1050, y: 1792, connected: ["31cf2", "st2Tol"]), Dot(name: "33cf2", x: 1050, y: 1706, connected: ["32cf2"]), Dot(name: "34cf2", x: 1050, y: 1637, connected: ["33cf2", "250ar", "250br", "732r"]), Dot(name: "35cf2", x: 946, y: 1792, connected: ["32cf2"]), Dot(name: "36cf2", x: 872, y: 1792, connected: ["35cf2", "251r"]), Dot(name: "37cf2", x: 872, y: 1847, connected: ["36cf2", "251br", "251ar"]), Dot(name: "38cf2", x: 557, y: 1842, connected: ["39cf2"]), Dot(name: "497", x: 1845, y: 38, connected: ["cf2"]), Dot(name: "40cf2", x: 465, y: 1845, connected: ["39cf2", "252r"]), Dot(name: "41cf2", x: 465, y: 1763, connected: ["40cf2"]), Dot(name: "42cf2", x: 410, y: 1763, connected: ["41cf2", "254ar"]), Dot(name: "43cf2", x: 280, y: 1763, connected: ["42cf2", "254br"]), Dot(name: "44cf2", x: 280, y: 1672, connected: ["43", "cf2", "257/259r", "255r"]), Dot(name: "45cf2", x: 280, y: 1610, connected: ["44cf2", "256r"]), Dot(name: "46cf2", x: 280, y: 1491, connected: ["45cf2", "258r"]), Dot(name: "47cf2", x: 280, y: 1361, connected: ["46cf2", "st2Pan"]), Dot(name: "48cf2", x: 280, y: 1209, connected: ["47cf2", "260r"]), Dot(name: "49cf2", x: 280, y: 1144, connected: ["48cf2", "261r", "262r"]), Dot(name: "50cf2", x: 280, y: 1075, connected: ["49cf2", "263r", "264r", "ww2Abl"]), Dot(name: "51cf2", x: 280, y: 1006, connected: ["50cf2", "265r"]), Dot(name: "52cf2", x: 280, y: 929, connected: ["51cf2", "270r"]), Dot(name: "53cf2", x: 335, y: 932, connected: ["52cf2", "268r", "269r", "wm2Abl"]), Dot(name: "54cf2", x: 280, y: 783, connected: ["52cf2", "272r", "271r"]), Dot(name: "55cf2", x: 280, y: 696, connected: ["54cf2", "273r"]), Dot(name: "56cf2", x: 280, y: 657, connected: ["55cf2", "274r", "276r", "275r"]), Dot(name: "57cf2", x: 280, y: 533, connected: ["56cf2", "278r", "277r"]), Dot(name: "58cf2", x: 280, y: 451, connected: ["57cf2", "279r"]), Dot(name: "59cf2", x: 280, y: 364, connected: ["58cf2", "281r", "280r"]), Dot(name: "60cf2", x: 280, y: 197, connected: ["59cf2", "284r", "283r"]), Dot(name: "61cf2", x: 969, y: 880, connected: ["62cf2", "cw2Kaz1", "st2Kaz"]), Dot(name: "62cf2", x: 1123, y: 877, connected: ["61cf2", "cw2Kaz2", "st2Kaz"])]
        
        let floor1Connectors: [Dot] = [Dot(name: "1cf1", x: 279, y: 835, connected: ["lb1Abl1", "wm1Abl", "ww1Abl"]), Dot(name: "2cf1", x: 279, y: 952, connected: ["161r", "1cf1", "160r"]), Dot(name: "3cf1", x: 279, y: 1025, connected: ["2cf1"]), Dot(name: "4cf1", x: 279, y: 1165, connected: ["3cf1", "bf1Abl", "lb1Abl2", "st1Abl"]), Dot(name: "5cf1", x: 202, y: 1166, connected: ["4cf1", "wd1Abl"]), Dot(name: "6cf1", x: 751, y: 1683, connected: ["151r"]), Dot(name: "7cf1", x: 845, y: 1683, connected: ["6cf1", "149r"]), Dot(name: "8cf1", x: 943, y: 1683, connected: ["7cf1"]), Dot(name: "9cf1", x: 943, y: 1757, connected: ["8cf1", "152r"]), Dot(name: "10cf1", x: 1040, y: 1683, connected: ["8cf1", "bf1Tol", "st1Tol"]), Dot(name: "11cf1", x: 1121, y: 1683, connected: ["10cf1"]), Dot(name: "12cf1", x: 1120, y: 1757, connected: ["11cf1", "147r"]), Dot(name: "13cf1", x: 1253, y: 1683, connected: ["11cf1", "148r"]), Dot(name: "14cf1", x: 1322, y: 1683, connected: ["13cf1", "wm1Tol", "ww1Tol"]), Dot(name: "15cf1", x: 1522, y: 1680, connected: ["16cf1"]), Dot(name: "16cf1", x: 1565, y: 1680, connected: ["15cf1", "143r"]), Dot(name: "17cf1", x: 1613, y: 1680, connected: ["16cf1"]), Dot(name: "18cf1", x: 1614, y: 1598, connected: ["17cf1"]), Dot(name: "19cf1", x: 1686, y: 1598, connected: ["18cf1", "142r"]), Dot(name: "20cf1", x: 1807, y: 1595, connected: ["19cf1", "140r"]), Dot(name: "21cf1", x: 1807, y: 1491, connected: ["20cf1", "138r", "136r"]), Dot(name: "22cf1", x: 1807, y: 1385, connected: ["21cf1", "135r"]), Dot(name: "23cf1", x: 1807, y: 1317, connected: ["22cf1", "134r", "133r"]), Dot(name: "24cf1", x: 1807, y: 1202, connected: ["23cf1", "st1Pan"]), Dot(name: "25cf1", x: 1805, y: 1096, connected: ["24cf1"]), Dot(name: "26cf1", x: 875, y: 756, connected: ["cw1Kaz1", "wm1Kaz"]), Dot(name: "27cf1", x: 875, y: 693, connected: ["26cf1"]), Dot(name: "28cf1", x: 1044, y: 693, connected: ["27cf1"]), Dot(name: "29cf1", x: 1211, y: 693, connected: ["28cf1", "ww1Kaz"]), Dot(name: "30cf1", x: 1211, y: 756, connected: ["29cf1", "cw1Kaz2"])]
        
        let floor0Connectors: [Dot] = [Dot(name: "1cf0", x: 1812, y: 217, connected: ["1r", "2r"]), Dot(name: "2cf0", x: 1811, y: 262, connected: ["1cf0", "3r"]), Dot(name: "3cf0", x: 1811, y: 305, connected: ["2cf0", "4r"]), Dot(name: "4cf0", x: 1811, y: 330, connected: ["3cf0", "5r"]), Dot(name: "5cf0", x: 1811, y: 446, connected: ["4cf0", "6r"]), Dot(name: "6cf0", x: 1811, y: 519, connected: ["5cf0", "8r"]), Dot(name: "7cf0", x: 1811, y: 578, connected: ["6cf0", "10r", "9r"]), Dot(name: "8cf0", x: 1811, y: 653, connected: ["7cf0", "11r", "12r"]), Dot(name: "9cf0", x: 1811, y: 716, connected: ["8cf0", "13r"]), Dot(name: "10cf0", x: 1811, y: 750, connected: ["9cf0", "15r"]), Dot(name: "11cf0", x: 1811, y: 779, connected: ["10cf0", "14r"]), Dot(name: "12cf0", x: 1811, y: 849, connected: ["11cf0", "16r"]), Dot(name: "13cf0", x: 1811, y: 859, connected: ["12cf0", "18rab"]), Dot(name: "14cf0", x: 1811, y: 916, connected: ["13cf0", "19r"]), Dot(name: "15cf0", x: 1811, y: 1033, connected: ["14cf0", "22r"]), Dot(name: "16cf0", x: 1811, y: 1108, connected: ["15cf0", "24r", "26r"]), Dot(name: "17cf0", x: 1811, y: 1137, connected: ["16cf0", "23r"]), Dot(name: "18cf0", x: 1811, y: 1210, connected: ["17cf0"]), Dot(name: "19cf0", x: 1811, y: 1252, connected: ["18cf0", "25r"]), Dot(name: "20cf0", x: 1811, y: 1342, connected: ["19cf0", "28r", "st0Pan"]), Dot(name: "21cf0", x: 1811, y: 1448, connected: ["20cf0", "30r"]), Dot(name: "22cf0", x: 1811, y: 1495, connected: ["21cf0", "29r"]), Dot(name: "23cf0", x: 1811, y: 1550, connected: ["22cf0", "31r1"]), Dot(name: "24cf0", x: 1811, y: 1642, connected: ["23cf0", "33r"]), Dot(name: "25cf0", x: 1811, y: 1657, connected: ["24cf0", "31r2"]), Dot(name: "26cf0", x: 1811, y: 1700, connected: ["25cf0", "35r"]), Dot(name: "27cf0", x: 1811, y: 1768, connected: ["26cf0", "36r", "37r", "39r"]), Dot(name: "28cf0", x: 1731, y: 1768, connected: ["27cf0", "38r"]), Dot(name: "29cf0", x: 1623, y: 1768, connected: ["28cf0", "39r"]), Dot(name: "30cf0", x: 1623, y: 1850, connected: ["29cf0"]), Dot(name: "31cf0", x: 1570, y: 1850, connected: ["30cf0", "43r"]), Dot(name: "32cf0", x: 1466, y: 1850, connected: ["31cf0", "41r"]), Dot(name: "33cf0", x: 1408, y: 1850, connected: ["32cf0", "42r"]), Dot(name: "34cf0", x: 1356, y: 1850, connected: ["33cf0", "44r"]), Dot(name: "35cf0", x: 1306, y: 1850, connected: ["34cf0", "45r"]), Dot(name: "36cf0", x: 1243, y: 1850, connected: ["35cf0", "46r1"]), Dot(name: "37cf0", x: 1213, y: 1850, connected: ["36cf0", "46r2"]), Dot(name: "38cf0", x: 1167, y: 1850, connected: ["37cf0", "49r", "47r"]), Dot(name: "39cf0", x: 1121, y: 1850, connected: ["38cf0", "48r"]), Dot(name: "40cf0", x: 1044, y: 1667, connected: ["41cf0", "bf0Tol1"]), Dot(name: "41cf0", x: 1062, y: 1691, connected: ["42cf0", "st0Tol"]), Dot(name: "42cf0", x: 1062, y: 1780, connected: ["43cf0", "bf0Tol2", "bf0Tol3"]), Dot(name: "43cf0", x: 1062, y: 1850, connected: ["44cf0"]), Dot(name: "44cf0", x: 1074, y: 1850, connected: ["39cf0", "50r"]), Dot(name: "45cf0", x: 1002, y: 1850, connected: ["44cf0", "51r"]), Dot(name: "46cf0", x: 955, y: 1850, connected: ["45cf0", "55r"]), Dot(name: "47cf0", x: 929, y: 1850, connected: ["46cf0", "56r"]), Dot(name: "48cf0", x: 858, y: 1850, connected: ["47cf0", "57r", "58r"]), Dot(name: "49cf0", x: 759, y: 1850, connected: ["48cf0", "59r"]), Dot(name: "50cf0", x: 673, y: 1850, connected: ["49cf0", "62r"]), Dot(name: "51cf0", x: 660, y: 1850, connected: ["50cf0", "60r"]), Dot(name: "52cf0", x: 617, y: 1850, connected: ["51cf0", "63r"]), Dot(name: "53cf0", x: 582, y: 1850, connected: ["52cf0", "61r"]), Dot(name: "54cf0", x: 483, y: 1850, connected: ["53cf0", "66r"]), Dot(name: "55cf0", x: 463, y: 1850, connected: ["54cf0"]), Dot(name: "56cf0", x: 463, y: 1767, connected: ["55cf0"]), Dot(name: "57cf0", x: 407, y: 1767, connected: ["56cf0", "68r"]), Dot(name: "58cf0", x: 340, y: 1767, connected: ["57cf0", "68ar"]), Dot(name: "59cf0", x: 284, y: 1767, connected: ["58cf0", "69r", "69ar"]), Dot(name: "60cf0", x: 284, y: 1701, connected: ["59cf0", "70r1"]), Dot(name: "61cf0", x: 284, y: 1637, connected: ["60cf0", "71r"]), Dot(name: "62cf0", x: 284, y: 1599, connected: ["61cf0", "70r2"]), Dot(name: "63cf0", x: 284, y: 1552, connected: ["62cf0", "72r"]), Dot(name: "64cf0", x: 285, y: 1484, connected: ["63cf0", "75r", "74r"]), Dot(name: "65cf0", x: 285, y: 1418, connected: ["64cf0", "77r", "76r"]), Dot(name: "66cf0", x: 285, y: 1348, connected: ["65cf0", "st0Abl"]), Dot(name: "67cf0", x: 285, y: 1293, connected: ["66cf0", "79r"]), Dot(name: "68cf0", x: 285, y: 1263, connected: ["67cf0", "78r", "80r"]), Dot(name: "69cf0", x: 285, y: 1211, connected: ["68cf0"]), Dot(name: "70cf0", x: 285, y: 1141, connected: ["69cf0", "81r"]), Dot(name: "71cf0", x: 285, y: 1073, connected: ["70cf0", "82r", "83r"]), Dot(name: "72cf0", x: 285, y: 998, connected: ["71cf0", "84r", "85r"]), Dot(name: "73cf0", x: 285, y: 819, connected: ["72cf0"]), Dot(name: "74cf0", x: 275, y: 800, connected: ["73cf0"]), Dot(name: "75cf0", x: 275, y: 678, connected: ["74cf0", "86r"]), Dot(name: "76cf0", x: 275, y: 557, connected: ["75cf0"]), Dot(name: "77cf0", x: 281, y: 545, connected: ["76cf0"]), Dot(name: "78cf0", x: 281, y: 335, connected: ["77cf0", "90r"]), Dot(name: "79cf0", x: 281, y: 308, connected: ["78cf0", "93r"]), Dot(name: "80cf0", x: 281, y: 191, connected: ["79cf0", "94r"])]
        
        rooms[0] = floor0Rooms
        rooms[1] = floor1Rooms
        rooms[2] = floor2Rooms
        rooms[3] = floor3Rooms
        rooms[4] = floor4Rooms
        rooms[5] = floor5Rooms
        
        connectors[0] = floor0Connectors
        connectors[1] = floor1Connectors
        connectors[2] = floor2Connectors
        connectors[3] = floor3Connectors
        connectors[4] = floor4Connectors
        connectors[5] = floor5Connectors
    }
    
    func getPath(_ from: Dot, _ to: Dot) -> [Dot] {
        var distance: [String: Double] = [:]
        var previous: [String: Dot] = [:]
        var queue: [Dot] = []
        for room in getAllRooms() {
            if room.name == from.name {
                distance[room.name] = 0
                queue.append(room)
            } else {
                distance[room.name] = Double.infinity
            }
            previous[room.name] = nil
        }
        while !queue.isEmpty {
            queue.sort { distance[$0.name]! < distance[$1.name]! }
            let currentDot = queue.removeFirst()
            if currentDot.name == to.name {
                break
            }
            let neighborEdges = allEdges.filter({$0.v.name == currentDot.name})
            for neighborEdge in neighborEdges {
                let neighborDot = neighborEdge.to
                let distanceToNeighbor = (distance[currentDot.name] ?? Double.infinity) + calculateDistance(from: currentDot, to: neighborDot)
                if distanceToNeighbor < distance[neighborDot.name] ?? Double.infinity {
                    distance[neighborDot.name] = distanceToNeighbor
                    previous[neighborDot.name] = currentDot
                    queue.append(neighborDot)
                }
            }
        }
        var roomsInPath: [Dot] = []
        
        var currentDot = to
        while currentDot.name != "" {
            roomsInPath.append(currentDot)
            currentDot = previous[currentDot.name] ?? Dot(name: "", x: 0, y: 0, connected: [])
        }
        return roomsInPath
    }
    
    func getFloorOfDot(_ v: Dot) -> Int {
        for i in 0..<rooms.count {
            if rooms[i].contains(where: {$0.name == v.name}) { return i }
            if connectors[i].contains(where: {$0.name == v.name}) { return i }
        }
        return 0
    }
    
    func calculateDistance(from startDot: Dot, to endDot: Dot) -> Double {
        let xDiff = endDot.x - startDot.x
        let yDiff = endDot.y - startDot.y
        return hypot(xDiff, yDiff)
    }
}


//https://ideone.com/UVQKqC

//https://ideone.com/V8JxTA
